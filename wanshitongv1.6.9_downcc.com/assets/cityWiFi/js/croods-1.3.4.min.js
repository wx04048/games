(this.nativeLog||function(e){console.log(e)})("WELCOME START CROODS JS FRAMEWORK 1.3.4, Build 2017-06-23 14:17."),this.getJSFMVersion=function(){return"1.3.4"},function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.croods=t()}(this,function(){"use strict";var e=["volumedownbutton","volumeupbutton","searchbutton","menubutton","backbutton","homebutton"],t={copy:"BasePlugin.copy",loadUrl:"BasePlugin.loadUrl",close:"BasePlugin.close",goBack:"BasePlugin.goBack",exit:"BasePlugin.exit",request:"RoutePlugin.request",networkType:"BasePlugin.getNetworkType",bindButton:"BasePlugin.bindButton",unbindButton:"BasePlugin.unbindButton",appInfo:"BasePlugin.getAppInfo",deviceInfo:"BasePlugin.getDeviceInfo",getContact:"ContactsPlugin.get"},r=function(e){var r=R(e),n={};if(!r.method)throw new Error('The arguments "method" is required and cannot be null!');if(O({name:"method",value:r.method,type:T.STRING}),O({name:"timeout",value:r.timeout,type:T.NUMBER}),n.t=r.timeout||8e3,n.m=r.method,r.params&&I(r.params))throw new Error('The arguments "params" type must be object!');return b(r.params)||(n.p=r.params),r.params=n,D(t.request,r)},n=function(e){var t=R(e);if(!t.action)throw new Error('The arguments "action" is required!');if(typeof t.action!==T.STRING||-1===t.action.indexOf("."))throw new Error('The arguments "action" type must be string, like:"PluginName.ActionName"!');if(t.params&&I(t.params))throw new Error('The arguments "params" type must be object!');return D(t.action,t)},a=function(e){var r=R(e);if(!r.content)throw new Error('The arguments "content" is required!');return O({name:"content",value:r.content,type:T.STRING}),r.params={content:r.content},D(t.copy,r)},o=function(e){var r=R(e);return O({name:"url",value:r.url,type:T.STRING}),r.params={url:r.url,close:r.close||!1},D(t.loadUrl,r)},i=function(e){var r=R(e);return r.params={},O({name:"callback",value:r.callback,type:T.STRING}),r.params.callback=r.callback||T.NULL_STR,D(t.close,r)},u=function(e){return i(e)},s=function(){return D(t.exit,{})},l=function(){return D(t.goBack,{})},c=function(e){var t=R(e),r=t.jsApiList,n={};if(!(r instanceof Array))throw new Error('The arguments "jsApiList" type must be array!');n=P(r,croods),typeof t.success===T.FUNCTION&&t.success(n)},m=function(e){return D(t.networkType,R(e))},f=function(e){return D(t.appInfo,R(e))},p=function(e){return D(t.deviceInfo,R(e))},d=function(e){return h(t.bindButton,e)},g=function(e){return h(t.unbindButton,e)},h=function(t,r){var n=R(r);if(n.params={},!n.keycode)throw new Error('The arguments "keycode" is required and cannot be null!');if(!(n.keycode instanceof Array))throw new Error('The arguments "keycode" type must be array !');if(0===n.keycode.length)throw new Error('The arguments "keycode" cannot be null!');n.keycode=n.keycode.unique();for(var a=0,o=n.keycode.length;a<o;a++)if(!E(n.keycode[a],e))throw new Error('The arguments "keycode" value '+n.keycode[a]+" invalid!");return n.params.keycode=n.keycode,D(t,n)},v=function(e){return D(t.getContact,R(e))},y={},w=function(e){y=R(e)},T={ANDROID:"android",IOS:"ios",IPHONE:"iPhone",IPAD:"iPad",OBJECT:"object",STRING:"string",BOOLEAN:"boolean",NUMBER:"number",FUNCTION:"function",TIMEOUT:"TIMEOUT",NULL_STR:""},E=function(e,t){if(t&&t instanceof Array){for(var r=0;r<t.length;r++)if(e===t[r])return!0;return!1}return!1},P=function(e,t){var r={},n=null;if(e&&e instanceof Array)for(var a=0;a<e.length;a++){n=e[a].split("."),r[e[a]]=!1;for(var o in t)if(o===n[0])if(typeof t[o]===T.OBJECT&&n[1])for(var i in t[o])i===n[1]&&(r[e[a]]=!0);else r[e[a]]=!0}return r};Array.prototype.unique=function(){for(var e=this,t=[],r={},n=0;n<this.length;n++)r[e[n]]||(t.push(e[n]),r[e[n]]=1);return t};var N,b=function(e){for(var t in e)return!1;return!0},I=function(e){return typeof e!==T.OBJECT||e instanceof Array},R=function(e){var t=e||{};if(I(t))throw new Error("The arguments type must be object!");return t},O=function(e){if(e.value&&e.type&&typeof e.value!==e.type)throw new Error('The arguments "'+e.name+'" type must be '+e.type+"!")},S=function(){var e=navigator.userAgent,t=T.ANDROID;return-1===e.indexOf(T.IPHONE)&&-1===e.indexOf(T.IPAD)||(t=T.IOS),t},k=function(e){var t=navigator.userAgent,r=t.indexOf(T.ANDROID),n=4.4;-1!==r&&(n=parseFloat(t.slice(r+8,r+13))),(k=n<4.4?function(e){window.prompt("iflytek:"+JSON.stringify(e))}:function(e){croodsBridge.exec("iflytek:"+JSON.stringify(e))})(e)},B=function(){var e=document.createElement("iframe");return e.style.display="none",e.src="",document.body.appendChild(e),e},A={log:function(e){y.debug&&console.log(e)},alert:function(e){y.debug&&window.alert(e)}},C={callbackId:Math.floor(1e10*Math.random()),commandQueue:[],callbacks:{},$deferred:function(){var e={};return e.success=function(e){return typeof e===T.FUNCTION&&(this._success=e),this},e.fail=function(e){return typeof e===T.FUNCTION&&(this._fail=e),this},e.complete=function(e){return typeof e===T.FUNCTION&&(this._complete=e),this},e.cancel=function(e){return typeof e===T.FUNCTION&&(this._cancel=e),this},e},callbackStatus:{OK:1e4,CANCEL:10007,TIMEOUT:10012,TIMEOUT_ROUTER:40001,OK_ROUTER:1,FAIL_ROUTER:0},create:function(e,t){window[e]=function(r){var n=C.callbacks[e];U(n,r,t)}}},U=function(e,t,r){var n=C.callbackStatus,a=t.code,o=t.message;switch(a){case n.OK:var i=o?JSON.parse(o):{};if(void 0==i.status){e.success&&e.success(i),setTimeout(function(){r&&r._success&&r._success(i)},0);break}if(A.alert(JSON.stringify(t)),i.status==n.OK_ROUTER){e.success&&e.success(i.result),setTimeout(function(){r&&r._success&&r._success(i.result)},0);break}i.status==n.FAIL_ROUTER&&(e.fail&&e.fail(i.errorCode+": "+i.errorMessage),setTimeout(function(){r&&r._fail&&r._fail(i.errorCode+": "+i.errorMessage)},0));break;case n.CANCEL:e.cancel&&e.cancel(t),setTimeout(function(){r&&r._cancel&&r._cancel(t)},0);break;case n.TIMEOUT_ROUTER:t.status=T.TIMEOUT;break;default:e.fail&&e.fail(a+": "+o),setTimeout(function(){r&&r._fail&&r._fail(a+": "+o)},0)}e.complete&&e.complete(t),setTimeout(function(){r&&r._complete&&r._complete(t)},0)},L={args:function(e,t){var r=e.split("."),n=r[0]+C.callbackId++,a={},o={service:r[0],action:r[1]};return typeof t.success===T.FUNCTION&&(a.success=t.success),typeof t.fail===T.FUNCTION&&(a.fail=t.fail),typeof t.complete===T.FUNCTION&&(a.complete=t.complete),typeof t.cancel===T.FUNCTION&&(a.cancel=t.cancel),C.callbacks[n]=a,o.callback=n,o.params=t.params||{},o},android:function(e){A.log(JSON.stringify(e)),k(e)},ios:function(e){C.commandQueue.push(e),N=N||B(),N.src="iflytek://ready"}},D=function(e,t){var r=L.args(e,t),n=r.callback,a=C.callbacks[n],o=b(a)?new C.$deferred:null;return C.create(n,o),L[S()](r),o},q=function(){var e=JSON.stringify(C.commandQueue);return C.commandQueue=[],A.log(e),e},M=function(e){delete window[e],delete C.callbacks[e],A.log("Destroy Function: "+e)},F={open:"GeoPlugin.open",close:"GeoPlugin.close",get:"GeoPlugin.getLocation"},G=function(e){var t=R(e);return t.params={},O({name:"interval",value:t.interval,type:T.NUMBER}),t.params.interval=t.interval||5e3,D(F.open,t)},_=function(e){return D(F.close,R(e))},x=function(e){var t=R(e);if(!t.lng)throw new Error('The arguments "lng" is required!');if(O({name:"lng",value:t.lng,type:T.NUMBER}),!t.lat)throw new Error('The arguments "lat" is required!');return O({name:"lat",value:t.lat,type:T.NUMBER}),t.params={lng:t.lng,lat:t.lat},D(F.get,t)},z={shareContent:"SharePlugin.shareContent",setPlatformConfig:"SharePlugin.setPlatformConfig",thirdpartyLogin:"SharePlugin.thirdpartyLogin"},j={QQ:1,QZone:2,SinaWeibo:3,WeChatSession:4,WeChatTimeline:5,WeChatFav:6},Q={QQ:0,WeChat:1,SinaWeibo:2},J={Text:0,Image:1,WebPage:2,Music:3,Video:4,Apps:5,File:6},V=function(e){var t=R(e);if(!t.platform)throw new Error('The arguments "platform" is required !');if(O({name:"platform",value:t.platform,type:T.NUMBER}),!t.shareParams)throw new Error('The arguments "shareParams" is required!');if(I(t.shareParams))throw new Error('The arguments "shareParams" type must be object!');if(typeof t.shareParams.type!==T.NUMBER)throw new Error('The arguments "shareParams.type" is required and type must be number!');if(!t.shareParams.text)throw new Error('The arguments "shareParams.text" is required!');return O({name:"shareParams.text",value:t.shareParams.text,type:T.STRING}),t.params={platform:t.platform,shareParams:t.shareParams},D(z.shareContent,t)},W=function(e){var t=R(e);if(typeof t.platform!==T.NUMBER)throw new Error('The arguments "platform" is required and type must be number!');return t.params={platform:t.platform},D(z.thirdpartyLogin,t)},K=function(e){var t=R(e);if(typeof t.platform!==T.NUMBER)throw new Error('The arguments "platform" is required and type must be number!');if(!t.config)throw new Error('The arguments "config" is required!');if(I(t.config))throw new Error('The arguments "config" type must be object!');return t.params={platform:t.platform,config:t.config},D(z.setPlatformConfig,t)},H={start:"DownloadPlugin.start",listener:"DownloadPlugin.listener",download:"DownloadPlugin.download",cancel:"DownloadPlugin.cancel",open:"FilePlugin.open",choose:"FilePlugin.choose",upload:"UploadPlugin.upload",unzip:"FilePlugin.unzip"},$=function(e){var t=R(e);if(t.params={},!t.url)throw new Error('The arguments "url" is required and cannot be null!');return O({name:"url",value:t.url,type:T.STRING}),t.params.url=t.url,D(H.start,t)},Z=function(e){return D(H.listener,R(e))},X=function(e){var t=R(e);if(t.params={},!t.url)throw new Error('The arguments "url" is required and cannot be null!');return O({name:"url",value:t.url,type:T.STRING}),t.params.url=t.url,D(H.download,t)},Y=function(e){return D(H.cancel,R(e))},ee=function(e){var t=R(e);if(t.params={},!t.filePath)throw new Error('The arguments "filePath" is required and cannot be null!');return O({name:"filePath",value:t.filePath,type:T.STRING}),t.params.filePath=t.filePath,D(H.open,t)},te=function(e){var t=R(e);return t.params={},O({name:"path",value:t.path,type:T.STRING}),O({name:"reg",value:t.reg,type:T.STRING}),O({name:"recursive",value:t.recursive,type:T.BOOLEAN}),t.params.recursive=typeof t.recursive===T.BOOLEAN&&t.recursive,t.params.path=t.path?t.path:void 0,t.params.reg=t.reg?t.reg:void 0,D(H.choose,t)},re=function(e){var t=R(e);if(t.params={},!t.method)throw new Error('The arguments "method" is required and cannot be null!');if(O({name:"method",value:t.method,type:T.STRING}),O({name:"fileSizeLimit",value:t.fileSizeLimit,type:T.NUMBER}),t.params.method=t.method,t.fileSizeLimit&&(t.params.fileSizeLimit=t.fileSizeLimit),t.files&&I(t.files))throw new Error('The arguments "files" type must be object!');if(b(t.files))throw new Error('The arguments "files" is required and cannot be null!!');if(t.params.files=t.files,t.formData&&I(t.formData))throw new Error('The arguments "formData" type must be object!');return b(t.formData)||(t.params.formData=t.formData),D(H.upload,t)},ne=function(e){var t=R(e);if(t.params={},!t.filePath)throw new Error('The arguments "filePath" is required and cannot be null!');return O({name:"filePath",value:t.filePath,type:T.STRING}),t.params.filePath=t.filePath,D(H.unzip,t)},ae={add:"StoragePlugin.add",get:"StoragePlugin.get",getAll:"StoragePlugin.getAll",remove:"StoragePlugin.remove",removeAll:"StoragePlugin.removeAll"},oe={add:function(e){var t=R(e);if(!t.params||b(t.params))throw new Error('The arguments "params" is required!');if(I(t.params))throw new Error('The arguments "params" type must be object!');return D(ae.add,t)},get:function(e){var t=R(e);if(t.params={},!t.key)throw new Error('The arguments "key" is required!');return O({name:"key",value:t.key,type:T.STRING}),t.params.key=t.key,D(ae.get,t)},getAll:function(e){return D(ae.getAll,R(e))},remove:function(e){var t=R(e);if(t.params={},!t.key)throw new Error('The arguments "key" is required!');return O({name:"key",value:t.key,type:T.STRING}),t.params.key=t.key,D(ae.remove,t)},removeAll:function(e){return D(ae.removeAll,R(e))}},ie=["blink","mouth","yaw","nod"],ue=["iat","search","video","poi","music","asr"],se=["zh_cn","en_us"],le=["mandarin","cantonese","henanese"],ce={take:"ImagePlugin.takePhoto",choose:"ImagePlugin.choose",previewImage:"ImagePlugin.preview",start:"AudioPlugin.startRecord",listener:"AudioPlugin.recordListener",stop:"AudioPlugin.stopRecord",play:"AudioPlugin.startPlay",playListener:"AudioPlugin.playListener",stopVoice:"AudioPlugin.stopPlay",livenessDetect:"LivenessPlugin.detect",scanning:"QRCodePlugin.scanCode",generate:"QRCodePlugin.generate",startIat:"SpeechPlugin.startIat",stopIat:"SpeechPlugin.stopIat",playVideo:"VideoPlugin.play"},me=function(e){return D(ce.take,R(e))},fe=function(e){var t=R(e);return O({name:"count",value:t.count,type:T.NUMBER}),t.params={count:t.count||1},D(ce.choose,t)},pe=function(e){var t=R(e);if(t.paths&&!(t.paths instanceof Array))throw new Error('The arguments "paths" type must be array!');if(""===t.index||void 0===t.index||null===t.index)throw new Error('The arguments "index" is required!');return O({name:"index",value:t.index,type:T.NUMBER}),t.params={paths:t.paths,index:t.index},D(ce.previewImage,t)},de=function(e){var t=R(e);if(t.actions){if(!(t.actions instanceof Array))throw new Error('The arguments "actions" type must be array!');if(t.actions=t.actions.unique(),!E(ie[0],t.actions))throw new Error("The arguments 'actions' value must has "+t.actions[0]+" !");for(var r=0,n=t.actions.length;r<n;r++)if(!E(t.actions[r],ie))throw new Error("The arguments 'actions' value "+t.actions[r]+" invalid!")}return O({name:"soundNotice",value:t.soundNotice,type:T.BOOLEAN}),t.params={actions:t.actions||ie,soundNotice:typeof t.soundNotice!==T.BOOLEAN||t.soundNotice},D(ce.livenessDetect,t)},ge=function(e){return D(ce.scanning,R(e))},he=function(e){var t=R(e);return O({name:"content",value:t.content,type:T.STRING}),O({name:"size",value:t.size,type:T.NUMBER}),t.params={content:t.content||"",size:t.size||200},D(ce.generate,t)},ve=function(e){return D(ce.start,R(e))},ye=function(e){return D(ce.listener,R(e))},we=function(e){return D(ce.stop,R(e))},Te=function(e){var t=R(e);if(t.params={},!t.filePath)throw new Error('The arguments "filePath" is required!');return O({name:"filePath",value:t.filePath,type:T.STRING}),t.params.filePath=t.filePath,D(ce.play,t)},Ee=function(e){return D(ce.playListener,R(e))},Pe=function(e){return D(ce.stopVoice,R(e))},Ne=function(e){var t=R(e);if(t.params={},!t.url)throw new Error('The arguments "url" is required!');return O({name:"url",value:t.url,type:T.STRING}),O({name:"isFullScreen",value:t.isFullScreen,type:T.BOOLEAN}),O({name:"title",value:t.title,type:T.STRING}),t.params.url=t.url,t.params.isFullScreen=t.isFullScreen||!1,t.title&&(t.params.title=t.title),D(ce.playVideo,t)},be=function(e){var t=R(e);if(O({name:"domain",value:t.domain,type:T.STRING}),t.domain&&!E(t.domain,ue))throw new Error('The arguments "domain" value invalid!');if(O({name:"language",value:t.language,type:T.STRING}),t.language&&!E(t.language,se))throw new Error('The arguments "language" value invalid!');if(O({name:"accent",value:t.accent,type:T.STRING}),t.accent&&!E(t.accent,le))throw new Error('The arguments "accent" value invalid!');if(O({name:"vadBos",value:t.vadBos,type:T.NUMBER}),t.vadBos&&(t.vadBos<1e3||t.vadBos>1e4))throw new Error('The arguments "vadBos" value between 1000 and 10000!');if(O({name:"vadEos",value:t.vadEos,type:T.NUMBER}),t.vadEos&&(t.vadEos<0||t.vadEos>1e4))throw new Error('The arguments "vadEos" value between 0 and 10000!');return O({name:"isSave",value:t.isSave,type:T.BOOLEAN}),O({name:"hasDot",value:t.hasDot,type:T.BOOLEAN}),t.params={domain:t.domain?t.domain:void 0,language:t.language?t.language:void 0,accent:t.accent?t.accent:void 0,vadBos:t.vadBos&&String(t.vadBos),vadEos:t.vadEos&&String(t.vadEos),isSave:t.isSave,hasDot:t.hasDot},D(ce.startIat,t)};return Object.freeze({nativeFetchQueue:q,callbackDestroy:M,openLocation:G,closeLocation:_,getLocation:x,sharePlatform:j,shareType:J,shareContent:V,setPlatformConfig:K,loginPlatform:Q,thirdpartyLogin:W,upload:re,startDownload:$,downloadListener:Z,cancelDownload:Y,download:X,openFile:ee,chooseFile:te,unzip:ne,storage:oe,config:w,ajax:r,customPlugin:n,copy:a,loadUrl:o,pageClose:i,closePage:u,goBack:l,exit:s,checkJsApi:c,getNetworkType:m,getAppInfo:f,getDeviceInfo:p,bindButton:d,unbindButton:g,getContact:v,takePhoto:me,chooseImage:fe,previewImage:pe,livenessDetect:de,scanQRCode:ge,createQRCode:he,startRecord:ve,recordListener:ye,stopRecord:we,playVoice:Te,playListener:Ee,stopVoice:Pe,playVideo:Ne,iflyIat:be})});
